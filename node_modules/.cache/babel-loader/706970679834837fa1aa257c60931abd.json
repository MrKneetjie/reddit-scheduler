{"ast":null,"code":"var _jsxFileName = \"/Users/davidknetemann/Downloads/onlybands 3/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [users, setUsers] = useState([]);\n\n  async function scrapeSubreddit() {\n    var code = new URL(window.location.href).searchParams.get('code');\n\n    if (code != null) {\n      return;\n    }\n\n    fetch('http://localhost:3030/authUrl').then(response => response.json()).then(data => window.location.href = data.url); // send the user to the authentication url;\n  }\n\n  ;\n\n  async function getUsers() {\n    await fetch('http://localhost:3030/getUsers').then(response => response.json()).then(users => setUsers(users));\n  }\n\n  useEffect(() => {\n    scrapeSubreddit();\n    getUsers();\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const submission = {\n      date: event.target.date.value ? event.target.date.value : 'now',\n      sub: event.target.sub.value,\n      title: event.target.title.value,\n      text: event.target.text.value\n    };\n    var code = new URL(window.location.href).searchParams.get('code');\n\n    if (code != null) {\n      fetch('http://localhost:3030/fromAuth', {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n        body: JSON.stringify({\n          code: code,\n          submission: submission\n        })\n      }).then(response => response.json()).then(data => console.log(data));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"./\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Onlybands\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 20\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Create Post!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"textarea\",\n          name: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Subreddit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"sub\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          name: \"date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"account\",\n          id: \"account\",\n          children: users && users.map(user => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: user.username,\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 22\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"POST\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"JadZszbqna06PpJs9hMo7Hl/LOY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/davidknetemann/Downloads/onlybands 3/src/App.js"],"names":["useEffect","useState","App","users","setUsers","scrapeSubreddit","code","URL","window","location","href","searchParams","get","fetch","then","response","json","data","url","getUsers","handleSubmit","event","preventDefault","submission","date","target","value","sub","title","text","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","console","log","map","user","username"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport './App.css';\n\nconst App = () => {\n  const [users, setUsers] = useState([]);\n\n  async function scrapeSubreddit() {\n    var code = new URL(window.location.href).searchParams.get('code');\n    if(code != null) {\n      return;\n    }\n    \n    fetch('http://localhost:3030/authUrl')\n    .then(response => response.json())\n    .then(data => window.location.href = data.url); // send the user to the authentication url;\n  };\n\n  async function getUsers() {\n    await fetch('http://localhost:3030/getUsers')\n    .then(response => response.json())\n    .then(users => setUsers(users));\n  }\n\n  useEffect(() => {\n    scrapeSubreddit();\n    getUsers();\n  }, [])\n  \n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const submission = {\n      date: event.target.date.value ? event.target.date.value : 'now',\n      sub: event.target.sub.value,\n      title: event.target.title.value,\n      text: event.target.text.value\n    }\n\n    var code = new URL(window.location.href).searchParams.get('code');\n    if(code != null) {\n      fetch('http://localhost:3030/fromAuth', {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n        body: JSON.stringify({\n           code: code,\n           submission: submission\n          })\n      })\n      .then(response => response.json())\n      .then(data => console.log(data));\n    }\n  }\n  \n  return (\n    <div className=\"App\">\n      <a href=\"./\"><h1>Onlybands</h1></a>\n      <form onSubmit={handleSubmit}>\n        <h4>Create Post!</h4>\n        <div className=\"input-group\">\n          <label>Title</label>\n          <input type=\"text\" name=\"title\"></input>\n        </div>\n\n        <div className=\"input-group\">\n          <label>Description</label>\n          <input type=\"textarea\" name=\"text\"></input>\n        </div>\n\n        <div className=\"input-group\">\n          <label>Subreddit</label>\n          <input type=\"text\" name=\"sub\"></input>\n        </div>\n\n        <div className=\"input-group\">\n          <label>Date</label>\n          <input type=\"datetime-local\" name=\"date\"></input>\n        </div>\n\n        <div className=\"input-group\">\n          <label>Account</label>\n          <select name=\"account\" id=\"account\">\n            {users && users.map(user => {\n              return <option value={user.username}>{user.username}</option>;\n            })}\n          </select>\n        </div>\n\n        <button>POST</button>\n      </form>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}